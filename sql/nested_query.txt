select Temp.membershipType, Temp.avgprice 
from (select G.membershipType, 
             avg(B.amountPaid) as avgprice 
      from guest G, bill_Has_Generate_Bill B
      where G.userID = B.gUserID 
      group by G.membershipType) Temp 
where Temp.avgprice = (select MAX(Temp1.avgprice) 
                       from (select G.membershipType, 
             avg(B.amountPaid) as avgprice 
      from guest G, bill_Has_Generate_Bill B
      where G.userID = B.gUserID 
      group by G.membershipType) Temp1)